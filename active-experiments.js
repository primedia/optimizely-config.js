// Generated by CoffeeScript 1.7.1
(function() {
  'use strict';
  define([], function() {
    var collection, exists, load;
    collection = function() {
      if (window.rentPathExperiments == null) {
        window.rentPathExperiments = load();
      }
      return window.rentPathExperiments || [];
    };
    exists = function(versionName) {
      var experiment, soVersionRegex;
      soVersionRegex = new RegExp(versionName, "i");
      while (experiment = collection().pop()) {
        if (experiment.match(soVersionRegex)) {
          return true;
        }
      }
      return false;
    };
    load = function() {
      var allExperiments, curVar, experiments, mExp, oActiveExperiments, oData, optimizelyObj, _i, _len;
      if (!window.optimizely) {
        return [];
      }
      experiments = [];
      optimizelyObj = window.optimizely;
      oData = optimizelyObj.data;
      oActiveExperiments = oData.state.activeExperiments;
      allExperiments = optimizelyObj.allExperiments;
      for (_i = 0, _len = oActiveExperiments.length; _i < _len; _i++) {
        mExp = oActiveExperiments[_i];
        if (allExperiments[mExp].enabled) {
          curVar = oData.state.variationNamesMap[mExp];
          experiments.push(curVar);
        }
      }
      return experiments;
    };
    return {
      exists: exists
    };
  });

}).call(this);
